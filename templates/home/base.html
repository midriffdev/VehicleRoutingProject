<!doctype html>
<html lang="en">
{% load static %}

<head>

    <meta charset="utf-8" />
    <title>AI | MVP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Themesbrand" name="author" />

    <link href="{% static 'libs/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css' %}" rel="stylesheet" type="text/css">
    <link  href="{% static 'libs/@chenfengyuan/datepicker/datepicker.min.css' %}" rel="stylesheet">

    {% comment %} a {% endcomment %}
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">




    <!-- App favicon -->
    <!-- <link rel="shortcut icon" href="../assets/images/favicon.ico"> -->


    <!-- Plugins css -->
    <link href="{% static 'libs/dropzone/min/dropzone.min.css' %}" rel="stylesheet" type="text/css" />

    <!-- DataTables -->


    <link href="{% static 'libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css' %}" rel="stylesheet"
        type="text/css" />
    <link href="{% static 'libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css' %}" rel="stylesheet"
        type="text/css" />

    <!-- Responsive datatable examples -->
    <link href="{% static 'libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css' %}" rel="stylesheet"
        type="text/css" />


    <!-- Bootstrap Css -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="{% static 'css/icons.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- App Css-->
    <link href="{% static 'css/app.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/custom.css' %}" rel="stylesheet" type="text/css" />

</head>


<body data-topbar="dark" data-layout="horizontal">

    <!-- Begin page -->
    <div id="layout-wrapper">
        <header id="page-topbar">
            <div class="navbar-header">
                <div class="d-flex">
                    <!-- LOGO -->
                    <div class="navbar-brand-box">
                        <a href="/" class="logo logo-dark">
                            AI MVP
                            <!-- <span class="logo-sm">
                                <img src="{% static 'images/logo.svg' %} alt="" height="22">
                            </span>
                            <span class="logo-lg">
                                <img src="{% static 'images/logo-dark.png' %} alt="" height="17">
                            </span> -->
                        </a>

                        <a href="/" class="logo logo-light">
                            <!-- <span class="logo-sm">
                                <img src="{% static 'images/logo-light.svg' %} alt="" height="22">
                            </span>
                            <span class="logo-lg">
                                <img src="{% static 'images/logo-light.png' %} alt="" height="19">
                            </span> -->
                            <h2 class="text-white">
                                AI MVP
                            </h2>
                        </a>
                    </div>

                    <button type="button"
                        class="btn btn-sm px-3 font-size-16 d-lg-none header-item waves-effect waves-light"
                        data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                        <i class="fa fa-fw fa-bars"></i>
                    </button>

                    <!-- App Search-->

                </div>

                <div class="d-flex">
                    <!-- <div class="dropdown d-inline-block">
                        <button type="button" class="btn header-item noti-icon waves-effect"
                            id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="bx bx-bell bx-tada"></i>
                            <span class="badge bg-danger rounded-pill">3</span>
                        </button>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                            aria-labelledby="page-header-notifications-dropdown">
                            <div class="p-3">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h6 class="m-0" key="t-notifications"> Notifications </h6>
                                    </div>
                                    <div class="col-auto">
                                        <a href="#!" class="small" key="t-view-all"> View All</a>
                                    </div>
                                </div>
                            </div>
                            <div data-simplebar style="max-height: 230px;">
                                <a href="" class="text-reset notification-item">
                                    <div class="media">
                                        <div class="avatar-xs me-3">
                                            <span class="avatar-title bg-primary rounded-circle font-size-16">
                                                <i class="bx bx-cart"></i>
                                            </span>
                                        </div>
                                        <div class="media-body">
                                            <h6 class="mt-0 mb-1" key="t-your-order">Your order is placed</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-grammer">If several languages coalesce the
                                                    grammar</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span
                                                        key="t-min-ago">3 min ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <a href="" class="text-reset notification-item">
                                    <div class="media">
                                        <img src="{% static 'images/users/avatar-3.jpg' %}"
                                            class="me-3 rounded-circle avatar-xs" alt="user-pic">
                                        <div class="media-body">
                                            <h6 class="mt-0 mb-1">James Lemire</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-simplified">It will seem like simplified English.
                                                </p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span
                                                        key="t-hours-ago">1 hours ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <a href="" class="text-reset notification-item">
                                    <div class="media">
                                        <div class="avatar-xs me-3">
                                            <span class="avatar-title bg-success rounded-circle font-size-16">
                                                <i class="bx bx-badge-check"></i>
                                            </span>
                                        </div>
                                        <div class="media-body">
                                            <h6 class="mt-0 mb-1" key="t-shipped">Your item is shipped</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-grammer">If several languages coalesce the
                                                    grammar</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span
                                                        key="t-min-ago">3 min ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>

                                <a href="" class="text-reset notification-item">
                                    <div class="media">
                                        <img src="{% static 'images/users/avatar-4.jpg' %}"
                                            class="me-3 rounded-circle avatar-xs" alt="user-pic">
                                        <div class="media-body">
                                            <h6 class="mt-0 mb-1">Salena Layfield</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-occidental">As a skeptical Cambridge friend of
                                                    mine occidental.</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span
                                                        key="t-hours-ago">1 hours ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="p-2 border-top d-grid">
                                <a class="btn btn-sm btn-link font-size-14 text-center" href="javascript:void(0)">
                                    <i class="mdi mdi-arrow-right-circle me-1"></i> <span key="t-view-more">View
                                        More..</span>
                                </a>
                            </div>
                        </div>
                    </div> -->

                    <div class="dropdown d-inline-block">
                        <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="rounded-circle header-profile-user"
                                src="{% static 'images/defaultuserimg.png' %}" alt="Header Avatar">
                            <span id="role_change" class="d-none d-xl-inline-block ms-1" key="t-henry">Roles</span>
                            <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end">
                            <!-- item-->
                            <!-- <a class="dropdown-item" href="#"><i class="bx bx-user font-size-16 align-middle me-1"></i>
                                <span key="t-profile">Profile</span></a>
                            <a class="dropdown-item d-block" href="{% url 'escalationteam' %}"><i
                                class="bx bx-group font-size-16 align-middle me-1"></i> <span
                                key="t-settings">Escalation Team</span></a>
                            <a class="dropdown-item d-block" href="#"><i
                                    class="bx bx-wrench font-size-16 align-middle me-1"></i> <span
                                    key="t-settings">Settings</span></a> -->
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="{% url 'switchAccounts' %}"><i
                                    class="bx bx-power-off font-size-16 align-middle me-1 text-danger"></i> <span
                                    key="t-logout">Switch</span></a>
                        </div>
                    </div>


                </div>
            </div>
        </header>

        <div class="topnav">
            <div class="container-fluid">
                <nav id="navigation_bar" class="navbar navbar-light navbar-expand-lg topnav-menu">



                    <div  class="collapse navbar-collapse" id="topnav-menu-content">
                        <ul class="navbar-nav">

                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'upload_orders' %}" id="topnav-dashboard"
                                    role="button">
                                    <i class="bx bx-box me-2"></i><span key="t-dashboards">Orders</span>
                                </a>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'vehicles' %}" id="topnav-uielement"
                                    role="button">
                                    <i class="bx bx-car me-2"></i>
                                    <span key="t-ui-elements">Vehicles </span>
                                </a>

                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'payments' %}" id="topnav-pages"
                                    role="button">
                                    <i class="bx bx-wallet me-2"></i><span key="t-apps">Payments</span>
                                </a>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'customers' %}" id="topnav-pages"
                                    role="button">
                                    <i class="bx bx-group me-2"></i><span key="t-apps">Customers</span>
                                </a>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'headquarter' %}" id="topnav-pages"
                                    role="button">
                                    <i class="bx bx-building me-2"></i><span key="t-apps">Warehouses</span>
                                </a>
                            </li>


                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none" href="{% url 'reports' %}" id="topnav-pages"
                                    role="button">
                                    <i class="bx bxs-report me-2"></i><span key="t-apps">Reports</span>
                                </a>
                            </li>
                            
                            <li class="nav-item dropdown">
                                <a class="nav-link arrow-none fw-bold" href="{% url 'headquarter' %}" id="topnav-pages"
                                    role="button">
                                    Warehouse - <span class=" text-success" key="t-apps">{{main_warehouse.name}}</span>
                                </a>
                            </li>




                        </ul>
                    </div>



                </nav>
            </div>
        </div>
        <div class="loaderWrapper d-none"><div class="loader"></div></div>
        <div class="main-content">
            <div class="page-content">
                {% block content %}
                {% endblock content %}
            </div>

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <script>document.write(new Date().getFullYear())</script> Â© AI MVP.
                        </div>
                        <div class="col-sm-6">
                            <div class="text-sm-end d-none d-sm-block">
                                Design & Develop by MISPL
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>




    </div>

    
    <script src="{% static 'libs/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'libs/metismenu/metisMenu.min.js' %}"></script>
    <script src="{% static 'libs/simplebar/simplebar.min.js' %}"></script>
    <script src="{% static 'libs/node-waves/waves.min.js' %}"></script>

    <!-- Required datatable js -->
    <script src="{% static 'libs/datatables.net/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
    <!-- Buttons examples -->
    <script src="{% static 'libs/datatables.net-buttons/js/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js' %}"></script>
    <script src="{% static 'libs/jszip/jszip.min.js' %}"></script>
    <script src="{% static 'libs/pdfmake/build/pdfmake.min.js' %}"></script>
    <script src="{% static 'libs/pdfmake/build/vfs_fonts.js' %}"></script>
    <script src="{% static 'libs/datatables.net-buttons/js/buttons.html5.min.js' %}"></script>
    <script src="{% static 'libs/datatables.net-buttons/js/buttons.print.min.js' %}"></script>
    <script src="{% static 'libs/datatables.net-buttons/js/buttons.colVis.min.js' %}"></script>
    <!-- Responsive examples -->
    <script src="{% static 'libs/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js' %}"></script>
    <!-- Datatable init js -->
    <script src="{% static 'js/pages/datatables.init.js' %}"></script>
    <script src="{% static 'libs/dropzone/min/dropzone.min.js' %}"></script>


    <script src="{% static 'libs/select2/js/select2.min.js' %}"></script>
    <script src="{% static 'libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"></script>
    <script src="{% static 'libs/@chenfengyuan/datepicker/datepicker.min.js' %}"></script>
    <script src="{% static 'js/pages/form-advanced.init.js' %}"></script>
    <!-- apexcharts -->
    

    <!-- echarts js -->
    <script src="{% static 'libs/echarts/echarts.min.js' %}"></script>
    <!-- <script src="{% static 'js/pages/echarts.init.js"></script> -->
    <!-- Chart JS -->
    <script src="{% static 'libs/apexcharts/apexcharts.min.js' %}"></script>
        
    <!-- Saas dashboard init -->
    <!-- <script src="{% static '/js/pages/saas-dashboard.init.js' %}"></script> -->
    
    <script src="{% static 'js/app.js' %}"></script>

    <script>

        var options = {
            chart: {
                height: 350,
                type: "bar",
                toolbar: { show: false }
            },
            plotOptions: {
                bar: {
                    horizontal: true,  // Horizontal bars
                    barHeight: '60px',  // Customize the height of the bars (adjust percentage or pixel value as needed)
                }
            },
            dataLabels: { enabled: false },
            series: [{
                data: [100, 430, 450, 275, 550, 204,550, 204]  // Example data for each truck
            }],
            colors: ["#18603e"],  // Bar color
            grid: { borderColor: "#18603e" },
            xaxis: {
                categories: [
                    "Truck 1", "Truck 2", "Truck 3", 
                    "Truck 4", "Truck 5", "Truck 6", 
                    "Truck 7", "Truck 8",
                ],  // Customized truck names on x-axis
                
            },
            tooltip: {
                y: {
                    formatter: function (val) {
                        return val + " orders";  // Custom tooltip text
                    }
                }
            }
        };

        var chart = new ApexCharts(document.querySelector("#bar_chart"), options);
        chart.render();




        


        var options = {
            chart: {
                height: 350,
                type: "bar",
                toolbar: { show: false }
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: "45%",
                    endingShape: "rounded"
                }
            },
            dataLabels: { enabled: false },
            stroke: {
                show: true,
                width: 2,
                colors: ["transparent"]
            },
            series: [
                { name: "Kilometre", data: [100, 120, 130, 110, 150, 140, 160] },  // Kilometre values
                { name: "Milega p/km", data: [5, 4.5, 6, 5.5, 4.8, 5.2, 4.9] }    // Milega p/km values
            ],
            colors: ["#1d4f6a", "#f46a6a"], // Colors for the two series
            xaxis: { 
                categories: ["Truck 1", "Truck 2", "Truck 3", "Truck 4", "Truck 5", "Truck 6", "Truck 7"] 
            },
            yaxis: { 
                title: { text: "Value", style: { fontWeight: "500" } } // General title
            },
            grid: { borderColor: "#f1f1f1" },
            fill: { opacity: 1 },
            tooltip: {
                shared: true, // Show shared tooltip for both bars
                intersect: false,
                formatter: function (series) {
                    return series.map((s) => `${s.seriesName}: ${s.data} ${s.seriesName === 'Milega p/km' ? 'units' : 'km'}`).join('<br>');
                }
            }
        };

        var chart = new ApexCharts(document.querySelector("#column_chart"), options);
        chart.render();















       // Function to create a gauge chart
       function createGaugeChart(elementId, title, value) {
        var dom = document.getElementById(elementId);
        dom.style.height = '190px'; // Set height of the chart

        var myChart = echarts.init(dom);
        var option = {
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            toolbox: {
                feature: false,
            },
            series: [{
                name: title,
                type: "gauge",
                detail: {
                    formatter: "{value}%",
                    offsetCenter: [0, '90%'], // Move detail text down
                    textStyle: {
                        fontSize: 20,
                        fontWeight: 'bold',
                        color: '#000'
                    }
                },
                axisLine: {
                    lineStyle: {
                        // Green for 0-90%, Yellow for 90-95%, Red for 95-100%
                        color: [[0.9, "#34c38f"], [0.95, "#f8c471"], [1, "#f46a6a"]],
                        width: 20
                    }
                },
                splitLine: {
                    show: true,
                    length: 15,
                    lineStyle: {
                        color: '#000',
                        width: 2
                    }
                },
                axisTick: {
                    show: true,
                    splitNumber: 5,
                    length: 8,
                    lineStyle: {
                        color: '#000'
                    }
                },
                axisLabel: {
                    show: true,
                    formatter: function (value) {
                        if (value % 20 === 0) {
                            return value;
                        }
                        return '';
                    },
                    textStyle: {
                        color: '#000',
                        fontSize: 12
                    }
                },
                pointer: {
                    itemStyle: {
                        color: "#556ee6"
                    }
                },
                title: {
                    show: true,
                    offsetCenter: [0, '60%'], 
                    textStyle: {
                        fontSize: 10,
                        fontWeight: 'bold',
                        color: '#000'
                    }
                },
                data: [{ value: value, name: "" }]
            }]
        };

        // Update the chart periodically
        setInterval(function () {
            myChart.setOption(option, true);
        }, 2000);

        myChart.setOption(option, true);
    }

    // Create different gauge charts with unique values
    createGaugeChart("gauge-chart", "Perfect Order Rate", 97.94);
    createGaugeChart("gauge-chart1", "Order Accuracy Rate", 89.50); // Example value
    createGaugeChart("gauge-chart2", "Fill Rate", 92.30); // Example value











        var options = {
            series: [85, 15], // Data for the donut chart
            chart: {
                type: "donut", // Chart type
                height: 230 // Height of the chart
            },
            labels: ["Within Time", "Out Of Time"], // Labels for each section of the donut chart
            colors: ["#34c38f", "#f46a6a"], // Colors for each section of the chart
            legend: {
                show: false // Hides the legend
            },
            plotOptions: {
                pie: {
                    donut: {
                        size: "50%" // Size of the donut hole
                    }
                }
            }
        };

        // Creating and rendering the donut chart
        var chart = new ApexCharts(document.querySelector("#donut-chart"), options);
        chart.render();

    </script>





</body>



</html>